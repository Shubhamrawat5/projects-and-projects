mapboxgl.accessToken=mbxToken;const map=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/dark-v10",zoom:1.5});map.addControl(new mapboxgl.NavigationControl),map.on("load",(function(){map.addSource("campgrounds",{type:"geojson",data:campgrounds,cluster:!0,clusterMaxZoom:14,clusterRadius:50}),map.addLayer({id:"clusters",type:"circle",source:"campgrounds",filter:["has","point_count"],paint:{"circle-color":["step",["get","point_count"],"#51bbd6",100,"#f1f075",750,"#f28cb1"],"circle-radius":["step",["get","point_count"],20,100,30,750,40]}}),map.addLayer({id:"cluster-count",type:"symbol",source:"campgrounds",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":12}}),map.addLayer({id:"unclustered-point",type:"circle",source:"campgrounds",filter:["!",["has","point_count"]],paint:{"circle-color":"#11b4da","circle-radius":4,"circle-stroke-width":1,"circle-stroke-color":"#fff"}}),map.on("click","clusters",(function(e){const o=map.queryRenderedFeatures(e.point,{layers:["clusters"]}),t=o[0].properties.cluster_id;map.getSource("campgrounds").getClusterExpansionZoom(t,(function(e,t){e||map.easeTo({center:o[0].geometry.coordinates,zoom:t})}))})),map.on("click","unclustered-point",(function(e){const o=e.features[0].geometry.coordinates.slice(),t=e.features[0].properties.popupHtml;for(;Math.abs(e.lngLat.lng-o[0])>180;)o[0]+=e.lngLat.lng>o[0]?360:-360;(new mapboxgl.Popup).setLngLat(o).setHTML(t).addTo(map)})),map.on("mouseenter","clusters",(function(){map.getCanvas().style.cursor="pointer"})),map.on("mouseleave","clusters",(function(){map.getCanvas().style.cursor=""}))}));